(function(t){function e(e){for(var s,c,a=e[0],o=e[1],l=e[2],d=0,p=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,a=1;a<i.length;a++){var o=i[a];0!==r[o]&&(s=!1)}s&&(n.splice(e--,1),t=c(c.s=i[0]))}return t}var s={},r={app:0},n=[];function c(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=s,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(i,s,function(e){return t[e]}.bind(null,s));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/yummy/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=o;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"04e2":function(t,e,i){},1:function(t,e){},"3bdd":function(t,e,i){"use strict";i("bdf8")},"3d71":function(t,e,i){"use strict";i("04e2")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tabs"},[i("ul",[i("router-link",{attrs:{to:{name:"recipes"}}},[t._v(" Recipes ")]),i("router-link",{attrs:{to:{name:"grid"}}},[t._v(" Grid ")]),i("router-link",{attrs:{to:{name:"list"}}},[t._v(" Shopping List "+t._s(t.num_recipes)+" ")])],1)]),i("main",[i("transition",{attrs:{name:"fade",mode:"out-in",appear:""},on:{"before-enter":t.beforeEnter}},[i("router-view")],1)],1)])},n=[],c=(i("4de4"),{created:function(){this.$store.dispatch("fetchRecipes",{url:"recipes.json",callback:this.onData})},computed:{num_recipes:{get:function(){var t=this.$lodash.filter(this.$store.getters.recipes(),(function(t){return t.active})).length;return 0===t?"":"("+t+")"}}},methods:{onData:function(){console.log("done fetching")}}}),a=c,o=(i("034f"),i("2877")),l=Object(o["a"])(a,r,n,!1,null,null,null),u=l.exports,d=i("8c4f"),p=i("28dd"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{},[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"columns is-multiline is-mobile"},[i("div",{staticClass:"column is-one-third-desktop"},[i("div",{staticClass:"subtitle"},[t._v(" Fresh ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",t._l(this.fresh,(function(e){return i("tr",{key:e.name,class:t.selected(e),on:{click:function(i){return t.toggleRow(e.name)}}},[i("td",[t._v(" "+t._s(e.name)+" ")]),i("td",[t._v(" "+t._s(e.quantity)+" ")]),i("td",[t._v(" "+t._s(e.unit)+" ")])])})),0)])]),i("div",{staticClass:"column is-one-third-desktop"},[i("div",{staticClass:"subtitle"},[t._v(" Spices ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",t._l(this.spice,(function(e){return i("tr",{key:e.name,class:t.selected(e),on:{click:function(i){return t.toggleRow(e.name)}}},[i("td",[t._v(" "+t._s(e.name)+" ")]),i("td",[t._v(" "+t._s(e.quantity)+" ")]),i("td",[t._v(" "+t._s(e.unit)+" ")])])})),0)])]),i("div",{staticClass:"column is-one-third-desktop"},[i("div",{staticClass:"subtitle"},[t._v(" All other ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",t._l(this.other,(function(e){return i("tr",{key:e.name,class:t.selected(e),on:{click:function(i){return t.toggleRow(e.name)}}},[i("td",[t._v(" "+t._s(e.name)+" ")]),i("td",[t._v(" "+t._s(e.quantity)+" ")]),i("td",[t._v(" "+t._s(e.unit)+" ")])])})),0)])])]),i("hr"),i("br"),i("br")])])])},h=[],v=(i("caad"),{methods:{toggleRow:function(t){this.$store.dispatch("toggleShoppingList",t)},selected:function(t){return!0===t.active?"is-selected":""}},computed:{shoppingList:{get:function(){return this.$store.getters.shoppingList()}},fresh:{get:function(){return this.$lodash.filter(this.$store.getters.shoppingList(),(function(t){return"fresh"===t["category"]}))}},other:{get:function(){return this.$lodash.filter(this.$store.getters.shoppingList(),(function(t){return!["fresh","spice"].includes(t["category"])}))}},spice:{get:function(){return this.$lodash.filter(this.$store.getters.shoppingList(),(function(t){return"spice"===t["category"]}))}}}}),g=v,_=Object(o["a"])(g,f,h,!1,null,null,null),m=_.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"columns is-mobile"},[i("div",{staticClass:"column "},[i("label",{staticClass:"checkbox"},[this.recipe?i("input",{directives:[{name:"model",rawName:"v-model",value:t.recipe.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.recipe.active)?t._i(t.recipe.active,null)>-1:t.recipe.active},on:{click:function(e){return t.toggleRecipe(t.recipe.id)},change:function(e){var i=t.recipe.active,s=e.target,r=!!s.checked;if(Array.isArray(i)){var n=null,c=t._i(i,n);s.checked?c<0&&t.$set(t.recipe,"active",i.concat([n])):c>-1&&t.$set(t.recipe,"active",i.slice(0,c).concat(i.slice(c+1)))}else t.$set(t.recipe,"active",r)}}}):t._e()]),this.recipe?i("div",{staticClass:"subtitle titleadjust"},[t._v(" "+t._s(this.recipe.title)+" ")]):t._e()])]),i("div",{staticClass:"columns is-desktop"},[i("div",{staticClass:"column is-third-desktop is-mobile"},[i("figure",{staticClass:"image"},[i("img",{attrs:{src:this.recipe.image}})]),i("br"),i("p",[t._v(" Source "),i("a",{attrs:{href:this.recipe.url}},[t._v(" "+t._s(this.recipe.source))])])]),i("div",{staticClass:"column is-third-desktop is-mobile"},[i("div",{staticClass:"subtitle"},[t._v(" Process ")]),t._l(this.process,(function(e,s){return i("div",{key:s},[t._v(" "+t._s(s+1)+". "+t._s(e)+" ")])}))],2),i("div",{staticClass:"column is-third-desktop is-mobile"},[i("div",{staticClass:"subtitle"},[t._v(" Ingredients ")]),i("div",{},[t._v(" Fresh ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",t._l(this.fresh,(function(e){return i("tr",{key:e.name},[i("td",[t._v(" "+t._s(e.name)+" ")]),i("td",[t._v(" "+t._s(e.quantity)+" ")]),i("td",[t._v(" "+t._s(e.unit)+" ")])])})),0)]),i("div",{},[t._v(" Spices ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",t._l(this.spice,(function(e){return i("tr",{key:e.name},[i("td",[t._v(" "+t._s(e.name)+" ")]),i("td",[t._v(" "+t._s(e.quantity)+" ")]),i("td",[t._v(" "+t._s(e.unit)+" ")])])})),0)]),i("div",{},[t._v(" Other ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",t._l(this.other,(function(e){return i("tr",{key:e.name},[i("td",[t._v(" "+t._s(e.name)+" ")]),i("td",[t._v(" "+t._s(e.quantity)+" ")]),i("td",[t._v(" "+t._s(e.unit)+" ")])])})),0)])])])]),i("br"),i("br"),i("br"),i("br")])])},y=[],k={methods:{toggleRecipe:function(t){this.$store.dispatch("updateRecipe",t)}},computed:{recipe:{get:function(){return this.$store.getters.recipe(this.$route.params.id)}},process:{get:function(){return this.$store.getters.recipe(this.$route.params.id)["process"]}},ingredients:{get:function(){return this.$store.getters.recipe(this.$route.params.id)["ingredients"]}},fresh:{get:function(){return this.$lodash.filter(this.ingredients,(function(t){return"fresh"===t["category"]}))}},other:{get:function(){return this.$lodash.filter(this.ingredients,(function(t){return!["fresh","spice"].includes(t["category"])}))}},spice:{get:function(){return this.$lodash.filter(this.ingredients,(function(t){return"spice"===t["category"]}))}}}},C=k,$=(i("7ff5"),Object(o["a"])(C,b,y,!1,null,"59f9ba00",null)),w=$.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{},[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"subtitle"},[t._v(" Breakfast ")]),i("table",{staticClass:"table is-bordered is-fullwidth is-narrow"},[i("tbody",t._l(this.breakfast,(function(e){return i("tr",{key:e.title},[i("td",{staticStyle:{width:"40px"}},[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active)?t._i(e.active,null)>-1:e.active},on:{click:function(i){return t.toggleRecipe(e.id)},change:function(i){var s=e.active,r=i.target,n=!!r.checked;if(Array.isArray(s)){var c=null,a=t._i(s,c);r.checked?a<0&&t.$set(e,"active",s.concat([c])):a>-1&&t.$set(e,"active",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(e,"active",n)}}})])]),i("td",[i("router-link",{attrs:{to:{name:"recipe",params:{id:e.id}}}},[t._v(" "+t._s(e.title)+" ")])],1)])})),0)]),i("div",{staticClass:"subtitle"},[t._v(" Lunch ")]),i("table",{staticClass:"table is-bordered is-fullwidth is-narrow"},[i("tbody",t._l(this.lunch,(function(e){return i("tr",{key:e.title},[i("td",{staticStyle:{width:"40px"}},[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active)?t._i(e.active,null)>-1:e.active},on:{click:function(i){return t.toggleRecipe(e.id)},change:function(i){var s=e.active,r=i.target,n=!!r.checked;if(Array.isArray(s)){var c=null,a=t._i(s,c);r.checked?a<0&&t.$set(e,"active",s.concat([c])):a>-1&&t.$set(e,"active",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(e,"active",n)}}})])]),i("td",[i("router-link",{attrs:{to:{name:"recipe",params:{id:e.id}}}},[t._v(" "+t._s(e.title)+" ")])],1)])})),0)]),i("div",{staticClass:"subtitle"},[t._v(" Dinner ")]),i("table",{staticClass:"table is-bordered is-fullwidth is-narrow"},[i("tbody",t._l(this.dinner,(function(e){return i("tr",{key:e.title},[i("td",{staticStyle:{width:"40px"}},[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active)?t._i(e.active,null)>-1:e.active},on:{click:function(i){return t.toggleRecipe(e.id)},change:function(i){var s=e.active,r=i.target,n=!!r.checked;if(Array.isArray(s)){var c=null,a=t._i(s,c);r.checked?a<0&&t.$set(e,"active",s.concat([c])):a>-1&&t.$set(e,"active",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(e,"active",n)}}})])]),i("td",[i("router-link",{attrs:{to:{name:"recipe",params:{id:e.id}}}},[t._v(" "+t._s(e.title)+" ")])],1)])})),0)]),i("br"),i("br"),i("br"),i("br")])])])},O=[],A={methods:{toggleRecipe:function(t){this.$store.dispatch("updateRecipe",t)}},computed:{recipes:{get:function(){return this.$store.getters.recipes()}},breakfast:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return"breakfast"===t["kind"]}))}},lunch:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return"lunch"===t["kind"]}))}},dinner:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return"dinner"===t["kind"]}))}}}},E=A,P=(i("3bdd"),Object(o["a"])(E,S,O,!1,null,"355ab35c",null)),T=P.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"columns is-multiline is-mobile"},t._l(this.sorted_recipies,(function(e,s){return i("div",{key:s,staticClass:"column is-one-fifth-desktop is-6-mobile"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-image"},[i("router-link",{staticClass:"card-footer-item",attrs:{to:{name:"recipe",params:{id:e.id}}}},[i("figure",{staticClass:"image is-2by2"},[i("img",{attrs:{src:e.image}})])])],1),i("footer",{class:t.selected(e)},[i("router-link",{staticClass:"card-footer-item",attrs:{to:{name:"recipe",params:{id:e.id}}}},[t._v(" "+t._s(e.title)+" ")])],1)])])})),0)])])])},R=[],L=(i("99af"),{methods:{toggleRecipe:function(t){this.$store.dispatch("updateRecipe",t)},selected:function(t){return!0===t.active?"card-footer selected":"card"}},computed:{recipes:{get:function(){return this.$store.getters.recipes()}},breakfast:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return"breakfast"===t["kind"]}))}},lunch:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return"lunch"===t["kind"]}))}},dinner:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return"dinner"===t["kind"]}))}},sorted_recipies:{get:function(){return this.breakfast.concat(this.lunch).concat(this.dinner)}},selected_recipes:{get:function(){return this.$lodash.filter(this.recipes,(function(t){return!0===t["active"]}))}},meals:{get:function(){return this.selected_recipes.length}},servings:{get:function(){for(var t=0,e=0;e<this.selected_recipes.length;e+=1)t+=this.selected_recipes[e]["servings"];return t}}}}),I=L,j=(i("3d71"),Object(o["a"])(I,x,R,!1,null,"10e7076e",null)),G=j.exports,N=[{path:"/",component:T,name:"recipes"},{path:"/grid",component:G,name:"grid"},{path:"/recipe/:id",component:w,name:"recipe"},{path:"/list",component:m,name:"list"}],q=N,D=(i("b0c0"),i("2f62")),M=i("2ef0"),U=i.n(M);function F(){return new D["a"].Store({state:{recipes:[],list:{}},getters:{recipes:function(t){return function(){return t.recipes}},recipe:function(t){return function(e){for(var i=0;i<t.recipes.length;i++)if(e==t.recipes[i]["id"])return t.recipes[i]}},shoppingList:function(t){return function(){return t.list}}},mutations:{UPDATE_FROM_LOCAL:function(t){console.log("update_from_local");var e=JSON.parse(window.localStorage.getItem("yummy_store"));t.recipes=U.a.get(e,"recipes",[]),t.list=U.a.get(e,"list",{});for(var i=0;i<t.recipes.length;i++)console.log("local",i,t.recipes[i]["id"],t.recipes[i]["active"])},UPDATE_FROM_WEB:function(t,e){console.log("update_from_web");for(var i=JSON.parse(window.localStorage.getItem("yummy_store")),s=0;s<e.length;s++)e[s]["id"]=s,e[s]["active"]=!1;if(e.length==i["recipes"].length)for(var r=0;r<e.length;r++)e[r]["id"]=r,e[r]["active"]=i["recipes"][r]["active"];t.recipes=e},SAVE_STATE:function(t){console.log("saving state");var e=JSON.stringify(t);window.localStorage.setItem("yummy_store",e)},UPDATE_SHOPPING_LIST:function(t){for(var e=JSON.parse(window.localStorage.getItem("yummy_store")),i=[],s=0;s<t.recipes.length;s++)!0===t.recipes[s]["active"]&&i.push(t.recipes[s]);for(var r={},n=0;n<i.length;n++)for(var c=i[n]["ingredients"],a=0;a<c.length;a++){var o=U.a.get(U.a.get(r,c[a]["name"],{quantity:0}),"quantity"),l=U.a.get(U.a.get(e["list"],c[a]["name"],{}),"active",!1);r[c[a]["name"]]={quantity:c[a]["quantity"]+o,unit:c[a]["unit"],category:c[a]["category"],active:l,name:c[a]["name"]}}t.list=r},TOGGLE_SHOPPING_LIST:function(t,e){t.list[e]["active"]=!t.list[e]["active"]},TOGGLE_RECIPE_ACTIVE:function(t,e){console.log(e),t.recipes[e]["active"]=!t.recipes[e]["active"],console.log(e,t.recipes[e]["active"])}},actions:{fetchRecipes:function(t,e){var i=t.commit,r=e.url,n=e.callback;i("UPDATE_FROM_LOCAL"),s["a"].http.get(r).then((function(t){i("UPDATE_FROM_WEB",t.body),n()})).catch((function(t){console.log(t)})),i("UPDATE_SHOPPING_LIST"),i("SAVE_STATE")},updateRecipe:function(t,e){var i=t.commit;i("TOGGLE_RECIPE_ACTIVE",e),i("UPDATE_SHOPPING_LIST"),i("SAVE_STATE")},toggleShoppingList:function(t,e){var i=t.commit;i("TOGGLE_SHOPPING_LIST",e),i("SAVE_STATE")}}})}s["a"].use(D["a"]),i("b383"),s["a"].config.productionTip=!1,Object.defineProperty(s["a"].prototype,"$lodash",{value:U.a}),s["a"].use(d["a"]),s["a"].use(p["a"]),s["a"].use(D["a"]);var J=new d["a"]({routes:q}),V=F();new s["a"]({store:V,router:J,render:function(t){return t(u)}}).$mount("#app")},"7ff5":function(t,e,i){"use strict";i("a9f0")},"85ec":function(t,e,i){},a9f0:function(t,e,i){},b383:function(t,e,i){},bdf8:function(t,e,i){}});
//# sourceMappingURL=app.07a8bcaa.js.map