(function(e){function t(t){for(var s,c,a=t[0],o=t[1],l=t[2],d=0,p=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,a=1;a<i.length;a++){var o=i[a];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=c(c.s=i[0]))}return e}var s={},r={app:0},n=[];function c(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=s,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(i,s,function(t){return e[t]}.bind(null,s));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/yummy/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=o;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"000e":function(e,t,i){"use strict";i("bb72")},"034f":function(e,t,i){"use strict";i("85ec")},"04e2":function(e,t,i){},1:function(e,t){},"3d71":function(e,t,i){"use strict";i("04e2")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"tabs"},[i("ul",[i("router-link",{attrs:{to:{name:"recipes"}}},[e._v(" Recipes ")]),i("router-link",{attrs:{to:{name:"grid"}}},[e._v(" Grid ")]),i("router-link",{attrs:{to:{name:"list"}}},[e._v(" Shopping List "+e._s(e.num_recipes)+" ")])],1)]),i("main",[i("router-view")],1)])},n=[],c=(i("4de4"),{created:function(){this.$store.dispatch("fetchRecipes",{url:"recipes.json",callback:this.onData})},computed:{num_recipes:{get:function(){var e=this.$lodash.filter(this.$store.getters.recipes(),(function(e){return e.active})).length;return 0===e?"":"("+e+")"}}},methods:{onData:function(){console.log("done fetching")}}}),a=c,o=(i("034f"),i("2877")),l=Object(o["a"])(a,r,n,!1,null,null,null),u=l.exports,d=i("8c4f"),p=i("28dd"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{},[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"columns is-multiline is-mobile"},[i("div",{staticClass:"column is-one-third-desktop"},[i("div",{staticClass:"subtitle"},[e._v(" Fresh ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",e._l(this.fresh,(function(t){return i("tr",{key:t.name,class:e.selected(t),on:{click:function(i){return e.toggleRow(t.name)}}},[i("td",[e._v(" "+e._s(t.name)+" ")]),i("td",[e._v(" "+e._s(t.quantity)+" ")]),i("td",[e._v(" "+e._s(t.unit)+" ")])])})),0)])]),i("div",{staticClass:"column is-one-third-desktop"},[i("div",{staticClass:"subtitle"},[e._v(" Spices ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",e._l(this.spice,(function(t){return i("tr",{key:t.name,class:e.selected(t),on:{click:function(i){return e.toggleRow(t.name)}}},[i("td",[e._v(" "+e._s(t.name)+" ")]),i("td",[e._v(" "+e._s(t.quantity)+" ")]),i("td",[e._v(" "+e._s(t.unit)+" ")])])})),0)])]),i("div",{staticClass:"column is-one-third-desktop"},[i("div",{staticClass:"subtitle"},[e._v(" All other ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",e._l(this.other,(function(t){return i("tr",{key:t.name,class:e.selected(t),on:{click:function(i){return e.toggleRow(t.name)}}},[i("td",[e._v(" "+e._s(t.name)+" ")]),i("td",[e._v(" "+e._s(t.quantity)+" ")]),i("td",[e._v(" "+e._s(t.unit)+" ")])])})),0)])])]),i("hr"),i("br"),i("br")])])])},h=[],v=(i("caad"),{methods:{toggleRow:function(e){this.$store.dispatch("toggleShoppingList",e)},selected:function(e){return!0===e.active?"is-selected":""}},computed:{shoppingList:{get:function(){return this.$store.getters.shoppingList()}},fresh:{get:function(){return this.$lodash.filter(this.$store.getters.shoppingList(),(function(e){return"fresh"===e["category"]}))}},other:{get:function(){return this.$lodash.filter(this.$store.getters.shoppingList(),(function(e){return!["fresh","spice"].includes(e["category"])}))}},spice:{get:function(){return this.$lodash.filter(this.$store.getters.shoppingList(),(function(e){return"spice"===e["category"]}))}}}}),g=v,_=Object(o["a"])(g,f,h,!1,null,null,null),m=_.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"columns is-mobile"},[i("div",{staticClass:"column "},[i("label",{staticClass:"checkbox"},[this.recipe?i("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.recipe.active)?e._i(e.recipe.active,null)>-1:e.recipe.active},on:{click:function(t){return e.toggleRecipe(e.recipe.id)},change:function(t){var i=e.recipe.active,s=t.target,r=!!s.checked;if(Array.isArray(i)){var n=null,c=e._i(i,n);s.checked?c<0&&e.$set(e.recipe,"active",i.concat([n])):c>-1&&e.$set(e.recipe,"active",i.slice(0,c).concat(i.slice(c+1)))}else e.$set(e.recipe,"active",r)}}}):e._e()]),this.recipe?i("div",{staticClass:"subtitle titleadjust"},[e._v(" "+e._s(this.recipe.title)+" ")]):e._e()])]),i("div",{staticClass:"columns is-desktop"},[i("div",{staticClass:"column is-third-desktop is-mobile"},[i("figure",{staticClass:"image"},[i("img",{attrs:{src:this.recipe.image}})]),i("br"),i("p",[e._v(" Source "),i("a",{attrs:{href:this.recipe.url}},[e._v(" "+e._s(this.recipe.source))])])]),i("div",{staticClass:"column is-third-desktop is-mobile"},[i("div",{staticClass:"subtitle"},[e._v(" Process ")]),e._l(this.process,(function(t,s){return i("div",{key:s},[e._v(" "+e._s(s+1)+". "+e._s(t)+" ")])}))],2),i("div",{staticClass:"column is-third-desktop is-mobile"},[i("div",{staticClass:"subtitle"},[e._v(" Ingredients ")]),i("div",{},[e._v(" Fresh ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",e._l(this.fresh,(function(t){return i("tr",{key:t.name},[i("td",[e._v(" "+e._s(t.name)+" ")]),i("td",[e._v(" "+e._s(t.quantity)+" ")]),i("td",[e._v(" "+e._s(t.unit)+" ")])])})),0)]),i("div",{},[e._v(" Spices ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",e._l(this.spice,(function(t){return i("tr",{key:t.name},[i("td",[e._v(" "+e._s(t.name)+" ")]),i("td",[e._v(" "+e._s(t.quantity)+" ")]),i("td",[e._v(" "+e._s(t.unit)+" ")])])})),0)]),i("div",{},[e._v(" Other ")]),i("table",{staticClass:"table is-bordered is-fullwidth"},[i("tbody",e._l(this.other,(function(t){return i("tr",{key:t.name},[i("td",[e._v(" "+e._s(t.name)+" ")]),i("td",[e._v(" "+e._s(t.quantity)+" ")]),i("td",[e._v(" "+e._s(t.unit)+" ")])])})),0)])])])]),i("br"),i("br"),i("br"),i("br")])])},y=[],k={methods:{toggleRecipe:function(e){this.$store.dispatch("updateRecipe",e)}},computed:{recipe:{get:function(){return this.$store.getters.recipe(this.$route.params.id)}},process:{get:function(){return this.$store.getters.recipe(this.$route.params.id)["process"]}},ingredients:{get:function(){return this.$store.getters.recipe(this.$route.params.id)["ingredients"]}},fresh:{get:function(){return this.$lodash.filter(this.ingredients,(function(e){return"fresh"===e["category"]}))}},other:{get:function(){return this.$lodash.filter(this.ingredients,(function(e){return!["fresh","spice"].includes(e["category"])}))}},spice:{get:function(){return this.$lodash.filter(this.ingredients,(function(e){return"spice"===e["category"]}))}}}},C=k,$=(i("7ff5"),Object(o["a"])(C,b,y,!1,null,"59f9ba00",null)),w=$.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{},[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"subtitle"},[e._v(" Breakfast ")]),i("table",{staticClass:"table is-bordered is-fullwidth is-narrow"},[i("tbody",e._l(this.breakfast,(function(t){return i("tr",{key:t.title},[i("td",[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.active)?e._i(t.active,null)>-1:t.active},on:{click:function(i){return e.toggleRecipe(t.id)},change:function(i){var s=t.active,r=i.target,n=!!r.checked;if(Array.isArray(s)){var c=null,a=e._i(s,c);r.checked?a<0&&e.$set(t,"active",s.concat([c])):a>-1&&e.$set(t,"active",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(t,"active",n)}}})])]),i("td",[i("router-link",{attrs:{to:{name:"recipe",params:{id:t.id}}}},[e._v(" "+e._s(t.title)+" ")])],1)])})),0)]),i("div",{staticClass:"subtitle"},[e._v(" Lunch ")]),i("table",{staticClass:"table is-bordered is-fullwidth is-narrow"},[i("tbody",e._l(this.lunch,(function(t){return i("tr",{key:t.title},[i("td",[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.active)?e._i(t.active,null)>-1:t.active},on:{click:function(i){return e.toggleRecipe(t.id)},change:function(i){var s=t.active,r=i.target,n=!!r.checked;if(Array.isArray(s)){var c=null,a=e._i(s,c);r.checked?a<0&&e.$set(t,"active",s.concat([c])):a>-1&&e.$set(t,"active",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(t,"active",n)}}})])]),i("td",[i("router-link",{attrs:{to:{name:"recipe",params:{id:t.id}}}},[e._v(" "+e._s(t.title)+" ")])],1)])})),0)]),i("div",{staticClass:"subtitle"},[e._v(" Dinner ")]),i("table",{staticClass:"table is-bordered is-fullwidth is-narrow"},[i("tbody",e._l(this.dinner,(function(t){return i("tr",{key:t.title},[i("td",[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"recipe.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.active)?e._i(t.active,null)>-1:t.active},on:{click:function(i){return e.toggleRecipe(t.id)},change:function(i){var s=t.active,r=i.target,n=!!r.checked;if(Array.isArray(s)){var c=null,a=e._i(s,c);r.checked?a<0&&e.$set(t,"active",s.concat([c])):a>-1&&e.$set(t,"active",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(t,"active",n)}}})])]),i("td",[i("router-link",{attrs:{to:{name:"recipe",params:{id:t.id}}}},[e._v(" "+e._s(t.title)+" ")])],1)])})),0)]),i("br"),i("br"),i("br"),i("br")])])])},O=[],A={methods:{toggleRecipe:function(e){this.$store.dispatch("updateRecipe",e)}},computed:{recipes:{get:function(){return this.$store.getters.recipes()}},breakfast:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return"breakfast"===e["kind"]}))}},lunch:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return"lunch"===e["kind"]}))}},dinner:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return"dinner"===e["kind"]}))}}}},E=A,P=(i("000e"),Object(o["a"])(E,S,O,!1,null,"13230c55",null)),T=P.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",[i("div",{staticClass:"container is-fluid"},[i("div",{staticClass:"columns is-multiline is-mobile"},e._l(this.sorted_recipies,(function(t,s){return i("div",{key:s,staticClass:"column is-one-fifth-desktop is-6-mobile"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-image"},[i("router-link",{staticClass:"card-footer-item",attrs:{to:{name:"recipe",params:{id:t.id}}}},[i("figure",{staticClass:"image is-2by2"},[i("img",{attrs:{src:t.image}})])])],1),i("footer",{class:e.selected(t)},[i("router-link",{staticClass:"card-footer-item",attrs:{to:{name:"recipe",params:{id:t.id}}}},[e._v(" "+e._s(t.title)+" ")])],1)])])})),0)])])])},x=[],L=(i("99af"),{methods:{toggleRecipe:function(e){this.$store.dispatch("updateRecipe",e)},selected:function(e){return!0===e.active?"card-footer selected":"card"}},computed:{recipes:{get:function(){return this.$store.getters.recipes()}},breakfast:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return"breakfast"===e["kind"]}))}},lunch:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return"lunch"===e["kind"]}))}},dinner:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return"dinner"===e["kind"]}))}},sorted_recipies:{get:function(){return this.breakfast.concat(this.lunch).concat(this.dinner)}},selected_recipes:{get:function(){return this.$lodash.filter(this.recipes,(function(e){return!0===e["active"]}))}},meals:{get:function(){return this.selected_recipes.length}},servings:{get:function(){for(var e=0,t=0;t<this.selected_recipes.length;t+=1)e+=this.selected_recipes[t]["servings"];return e}}}}),I=L,j=(i("3d71"),Object(o["a"])(I,R,x,!1,null,"10e7076e",null)),G=j.exports,N=[{path:"/",component:T,name:"recipes"},{path:"/grid",component:G,name:"grid"},{path:"/recipe/:id",component:w,name:"recipe"},{path:"/list",component:m,name:"list"}],q=N,D=(i("b0c0"),i("2f62")),M=i("2ef0"),U=i.n(M);function F(){return new D["a"].Store({state:{recipes:[],list:{}},getters:{recipes:function(e){return function(){return e.recipes}},recipe:function(e){return function(t){for(var i=0;i<e.recipes.length;i++)if(t==e.recipes[i]["id"])return e.recipes[i]}},shoppingList:function(e){return function(){return e.list}}},mutations:{UPDATE_FROM_LOCAL:function(e){console.log("update_from_local");var t=JSON.parse(window.localStorage.getItem("yummy_store"));e.recipes=U.a.get(t,"recipes",[]),e.list=U.a.get(t,"list",{});for(var i=0;i<e.recipes.length;i++)console.log("local",i,e.recipes[i]["id"],e.recipes[i]["active"])},UPDATE_FROM_WEB:function(e,t){console.log("update_from_web");for(var i=JSON.parse(window.localStorage.getItem("yummy_store")),s=0;s<t.length;s++)t[s]["id"]=s,t[s]["active"]=!1;if(t.length==i["recipes"].length)for(var r=0;r<t.length;r++)t[r]["id"]=r,t[r]["active"]=i["recipes"][r]["active"];e.recipes=t},SAVE_STATE:function(e){console.log("saving state");var t=JSON.stringify(e);window.localStorage.setItem("yummy_store",t)},UPDATE_SHOPPING_LIST:function(e){for(var t=JSON.parse(window.localStorage.getItem("yummy_store")),i=[],s=0;s<e.recipes.length;s++)!0===e.recipes[s]["active"]&&i.push(e.recipes[s]);for(var r={},n=0;n<i.length;n++)for(var c=i[n]["ingredients"],a=0;a<c.length;a++){var o=U.a.get(U.a.get(r,c[a]["name"],{quantity:0}),"quantity"),l=U.a.get(U.a.get(t["list"],c[a]["name"],{}),"active",!1);r[c[a]["name"]]={quantity:c[a]["quantity"]+o,unit:c[a]["unit"],category:c[a]["category"],active:l,name:c[a]["name"]}}e.list=r},TOGGLE_SHOPPING_LIST:function(e,t){e.list[t]["active"]=!e.list[t]["active"]},TOGGLE_RECIPE_ACTIVE:function(e,t){console.log(t),e.recipes[t]["active"]=!e.recipes[t]["active"],console.log(t,e.recipes[t]["active"])}},actions:{fetchRecipes:function(e,t){var i=e.commit,r=t.url,n=t.callback;i("UPDATE_FROM_LOCAL"),s["a"].http.get(r).then((function(e){i("UPDATE_FROM_WEB",e.body),n()})).catch((function(e){console.log(e)})),i("UPDATE_SHOPPING_LIST"),i("SAVE_STATE")},updateRecipe:function(e,t){var i=e.commit;i("TOGGLE_RECIPE_ACTIVE",t),i("UPDATE_SHOPPING_LIST"),i("SAVE_STATE")},toggleShoppingList:function(e,t){var i=e.commit;i("TOGGLE_SHOPPING_LIST",t),i("SAVE_STATE")}}})}s["a"].use(D["a"]),i("b383"),s["a"].config.productionTip=!1,Object.defineProperty(s["a"].prototype,"$lodash",{value:U.a}),s["a"].use(d["a"]),s["a"].use(p["a"]),s["a"].use(D["a"]);var J=new d["a"]({routes:q}),V=F();new s["a"]({store:V,router:J,render:function(e){return e(u)}}).$mount("#app")},"7ff5":function(e,t,i){"use strict";i("a9f0")},"85ec":function(e,t,i){},a9f0:function(e,t,i){},b383:function(e,t,i){},bb72:function(e,t,i){}});
//# sourceMappingURL=app.3fde9062.js.map